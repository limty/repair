<div class="row">
	<div class="col-md-4" style="margin: 20px auto;">
		<h2>Add New Item</h2>

		<!-- Start of Form -->
		<%= form_with scope: :items, url: items_path, local: true do |form| %>

		  <!-- name -->
		  <div class="form-group">
		    <%= form.label :name %><br>
		    <%= form.text_field :name, class: "form-control" %>
		  </div>

		  <!-- description -->
		  <div class="form-group">
		    <%= form.label :description %><br>
		    <%= form.text_area :description, id: "counted", maxlength: 50, size: 50, class: "form-control" %>
		    <p>Current character count: <span id="char-count">0</span> / 200</p>

		  </div>

		  <!-- image -->
		  <div class="form-group">
		    <%= form.label :image %><br>
		    <%= form.file_field :image, class: "form-control" %>

		  </div>

		  <input type="hidden" name="items[user_id]" value="<%= @current%>">
		  <input type="hidden" name="items[repairing]" value="false">
		  <input type="hidden" name="items[completed]" value="false">
		  <input type="hidden" name="items[repairer]" value="null">
		  <input type="hidden" name="items[reviewed]" value="false">

		  <p>
		    <%= form.submit class: "btn btn-primary" %>
		  </p>
		<% end %>
	</div>
</div>


<script type="text/javascript">
	$(document).ready(function() {
	  $('#char-count').html($('#counted').val().replace(/\n/g, "\n\r").length);
	});

	$('#counted').keyup(function() {
	  $('#char-count').html($(this).val().replace(/\n/g, "\n\r").length);
	});
</script>